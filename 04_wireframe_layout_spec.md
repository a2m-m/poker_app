# 4. Wireframe / Layout Spec（最重要）

## 4.1 このドキュメントの目的
- 主要画面（`/` `/setup` `/table`）の **レイアウト構造（領域分割）** を固定する
- 表示優先順位を固定し、「テーブル画面に情報を盛りすぎる事故」を防ぐ
- 2〜9人の可変人数でも破綻しない、**横持ち前提の基本配置**を決める

---

## 4.2 共通レイアウトルール（全画面）
- 端末は **横持ち固定**
- タップ領域：最小 **44〜48px相当**（実装はCSSで確保）
- 文字の優先度  
  - 最重要（手番/ポットなど）：大きく太く  
  - 次点（スタック/投入額）：中  
  - 補助（状態/バッジ）：小
- 色だけに依存しない（Fold等は **ラベル/バッジ/アイコン**併用）

---

## 4.3 画面別ワイヤー

## R0 `/` ホーム
**目的**：続きから / 新規作成 を迷わせず開始

```
+--------------------------------------------------+
|  タイトル                                        |
|                                                  |
|        [ 続きから ]   (前回のゲームがある場合)   |
|                                                  |
|        [ 新規ゲームを作成 ]                      |
|                                                  |
|   （任意）[ データ削除 ]                          |
+--------------------------------------------------+
```

- CTAは2つまで（続き/新規）
- ここで設定を始めない（/setupに集約）

---

## R1 `/setup` ゲームセットアップ
**目的**：ゲーム開始に必要な入力を1画面で完了（ステップ分割は将来）

**2カラム構成（推奨）**  
左：設定 / 右：プレイヤー管理

```
+--------------------------------------------------------------+
|  Setup Header  (戻る)                             [開始]      |
+-----------------------------+--------------------------------+
| [基本設定]                  | [プレイヤー]                    |
| 人数: 2..9 (Stepper)        | 1) 名前: ____  スタック: ____   |
| 初期スタック: ____          | 2) 名前: ____  スタック: ____   |
| SB: __   BB: __             | ...                             |
| ボタン初期位置: 選択/ランダム| [+追加] [-削除]                 |
|                             |                                |
+-----------------------------+--------------------------------+
|  フッター: バリデーション/注意（短文）                         |
+--------------------------------------------------------------+
```

**UIルール**
- 人数を変えたら、プレイヤー入力欄も増減（不足時は自動追加 or 削除確認）
- 名前の重複は警告（開始ボタンを無効化でもOK）
- `/table` に行く前に最低限チェック：
  - 人数が2〜9
  - 全員の名前が埋まっている
  - SB/BBが正の数
  - 初期スタックがSB/BBより十分大きい（警告は出す、強制はしないでもOK）

---

## R2 `/table` テーブル（メイン）
**目的**：卓の状態が1秒で分かり、次の人が迷わず入力できる

### レイアウト：3レーン構成（推奨）
- **Top Bar**：状況（手番/ラウンド/ポット/SB・BB/ボタン）
- **Player Grid**：2〜9人のプレイヤーカード
- **Action Panel**：手番プレイヤーの操作（大ボタン＋金額入力）

```
+------------------------------------------------------------------+
| Top Bar: [Round] [Pot] [SB/BB] [Button位置]   [ログ][役][判定][設定] |
+------------------------------------------------------------------+
| Player Grid (可変)                                               |
|  [P1 Card]  [P2 Card]  [P3 Card]                                 |
|  [P4 Card]  [P5 Card]  [P6 Card]                                 |
|  [P7 Card]  [P8 Card]  [P9 Card]                                 |
|                                                                  |
+------------------------------------------------------------------+
| Action Panel (手番プレイヤー用)                                  |
|  〇〇さんの番です   to call: XX    (任意) min raise: YY           |
|  [Check] [Call] [Bet] [Raise] [Fold]   [Undo]                    |
|  金額: [  ____ ]  [確定]                                         |
+------------------------------------------------------------------+
```

### Player Card の中身（最小）
- 1行目：`名前` + バッジ（`BTN` `SB` `BB` `TURN`）
- 2行目：`Stack: xxxx`
- 3行目：`Bet(this round): xxx` + 状態（Fold等）

**強調ルール**
- 手番プレイヤー：カード全体を強調（枠/背景/ラベル）
- Fold：視覚的に「非アクティブ」化（薄く＋FOLDバッジ）
- SB/BB/BTN：小さなバッジで常時わかるように

### 2〜9人の並べ方（Gridルール）
- 最大9人想定 → **3列×最大3行**
- 人数が少ない場合も3列維持でOK（中央寄せ）
- カードサイズは一定に近い方が良い（可変しすぎると視認が崩れる）

---

## 4.4 「回して使う」前提の操作ガード（推奨）
誤タップ・覗き込み対策として、手番が変わる瞬間に軽い“受け渡し画面”を挟む案。

### Option（MVPで入れても良い）
- アクション確定後：
  - 画面中央に「次は〇〇さん」+ 大きい「開始」ボタン  
  - これを押すまでアクションボタンを触れない

```
+--------------------------------------------------+
|  次は 〇〇さんの番です                           |
|                                                  |
|               [ ターン開始 ]                     |
+--------------------------------------------------+
```

※ これ入れると体験がかなり安定する（個人的に推し）。ただしMVPの範囲次第。

---

## 4.5 別レイヤー（モーダル/ドロワー）のワイヤー

### L1 ログ（ドロワー推奨）
- 下から上のドロワー or 右サイドシート
- 行：`P名 + アクション + 金額`（時系列）
- Undoのために直近が見やすい

### L2 役一覧（モーダル）
- 役の順位リスト＋短い例
- 画面はシンプル（スクロールOK）

### L3 判定ツール（モーダル）
- 共有カード（最大5）
- プレイヤー選択（複数）→手札2枚入力
- 結果：勝者/同点/役名

---

## 4.6 画面内で常時表示する数字の上限（UX原則の具現化）
**テーブル画面の“常時表示”は、原則この範囲に収める：**
- Top Bar：Pot / Round / SB/BB / Button
- Player Card：Stack / Bet(this round)
- Action Panel：to call（手番だけ強調）

それ以上（例：累計ベット、前ラウンド履歴の数値など）は **ログへ退避**。

---

## 4.7 MVPでの見た目（スタイルはここでは決めない）
- 色・フォント・モーションの詳細は **5) UIスタイルガイド** に委譲
- ここでは **領域・情報量・配置**だけを固定
